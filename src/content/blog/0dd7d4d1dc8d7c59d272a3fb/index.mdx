---
title: '.lesshst とかいう普段意識しないファイルについて'
description: 'ただの学習メモ。しかも数行程度のメモだ。'
date: 2025-02-01
tags: ['Linux']
image: '../../../../public/static/1200x630.png'
authors: ['Kanon']
---


# `.lesshst`ってなに

`less`コマンドの履歴ファイルだ。

デフォルトでは`~/.lesshst`にファイルが出来上がる。何を履歴しているかというと、`less`ファイル内で使えるコマンドなどだ。実際に中を見てみる。

```bash
.less-history-file:
.search
"HOME
```

# だからなんだ

学習メモにしても「そんなメモることあるか？」って感じだが、ちゃんと背景がある。仕事で改竄検知ツールを導入したのがきっかけだ。

導入後、別件の調査で`less`コマンドを叩いた後`/root/.lesshst`のせいで偽陽性反応が起こった。

`/root/.lesshst`自体を検証対象外に設定してしまっても良い。が、そもそも`/root`直下に置かれてるのも嫌だ。なので検知対象外にするだけでなく`.lesshst`の置き場所を変えたい、と思い始めたのだ。

調べてみると、簡単に変えられそうだった。

```bash
export LESSHISTFILE=保存先
```

以上だ。保存先に`-`を指定すれば、そもそも履歴を取らなくなる。

あとは`~/.bashrc`に書いておけばよい。

---

この記事は当初はてなブログで公開したものを個人ブログ開設にあたって移植したものです。

https://blog.inorinrinrin.com/entry/2025/02/01/000652
